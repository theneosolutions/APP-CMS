name: Build and Deploy

on:
  push:
    branches:
      - '*'

jobs:
  build:
    runs-on: ubuntu-latest
    
    strategy:
      matrix:
        maven: [3.9.6, 3.9.0]

    steps:
      - name: Checkout code
        uses: actions/checkout@v2
        with:
          ref: bucket # Replace 'main' with the name of the branch you want to checkout

      - name: Set up JDK
        uses: actions/setup-java@v1
        with:
          java-version: '17'

      - name: Set up Maven
        uses: actions/setup-java@v1
        with:
          java-version: '17'
          maven-version: ${{ matrix.maven-version }}
          
      - name: Build with Maven        
        run: |
          mvn --version
          mvn clean
          mvn install

      - name: Display with tree cmd        
        run: |
         ls -la 
         ls -la target
      
      #- name: Deploy to EC2 instance
        #run: |
          # Replace the following command with your deployment script
          #echo "Deploying to EC2 instance..."
